{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jiang\\\\Documents\\\\GitHub\\\\DesignInAction-WebsiteTest-5\\\\src\\\\components\\\\ChatInterface.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useStore } from '../store';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChatInterface = () => {\n  _s();\n  const {\n    buildingData,\n    updateBuildingData\n  } = useStore();\n  const [currentStep, setCurrentStep] = useState(0);\n  const [currentValue, setCurrentValue] = useState(1);\n  const [chatHistory, setChatHistory] = useState([]);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const steps = [{\n    prompt: \"让我们开始设计您的建筑。首先，您希望这座建筑有多少层？\",\n    min: 1,\n    max: 10,\n    step: 1,\n    property: \"floors\",\n    response: value => `好的，您选择了 ${value} 层。这是一个不错的选择。接下来，让我们确定建筑的宽度。`\n  }, {\n    prompt: \"建筑的宽度会影响内部空间的布局。您希望建筑的宽度是多少？\",\n    min: 8000,\n    max: 20000,\n    step: 100,\n    property: \"width\",\n    response: value => `选择了 ${value}mm 的宽度。现在让我们确定建筑的深度。`\n  }, {\n    prompt: \"建筑的深度会影响采光和通风。您觉得多深的建筑比较合适？\",\n    min: 6000,\n    max: 15000,\n    step: 100,\n    property: \"depth\",\n    response: value => `选择了 ${value}mm 的深度。让我们继续设计屋顶的样式。`\n  }, {\n    prompt: \"您希望屋顶采用什么样式？\",\n    options: [{\n      value: \"flat\",\n      label: \"平屋顶\"\n    }, {\n      value: \"gable\",\n      label: \"双坡屋顶\"\n    }, {\n      value: \"hip\",\n      label: \"四坡屋顶\"\n    }],\n    property: \"roof_style\",\n    response: value => `选择了 ${value} 屋顶。接下来，让我们设计窗户的布局。`\n  }];\n  const handleValueChange = event => {\n    const newValue = parseInt(event.target.value);\n    setCurrentValue(newValue);\n    setIsProcessing(true);\n\n    // 模拟 LLM 处理时间\n    setTimeout(() => {\n      if (buildingData) {\n        const updatedData = {\n          ...buildingData,\n          building: {\n            ...buildingData.building,\n            [steps[currentStep].property]: newValue\n          }\n        };\n\n        // 更新对象尺寸\n        updatedData.objects = buildingData.objects.map(obj => {\n          if (obj.id === \"floor-001\") {\n            return {\n              ...obj,\n              bounding_box: {\n                min: [0, 0, 0],\n                max: [steps[currentStep].property === \"width\" ? newValue : obj.bounding_box.max[0], steps[currentStep].property === \"depth\" ? newValue : obj.bounding_box.max[1], obj.bounding_box.max[2]]\n              },\n              geometry: {\n                ...obj.geometry,\n                vertices: [[0, 0, 0], [steps[currentStep].property === \"width\" ? newValue : obj.geometry.vertices[1][0], 0, 0], [steps[currentStep].property === \"width\" ? newValue : obj.geometry.vertices[2][0], steps[currentStep].property === \"depth\" ? newValue : obj.geometry.vertices[2][1], 0], [0, steps[currentStep].property === \"depth\" ? newValue : obj.geometry.vertices[3][1], 0], [0, 0, 50], [steps[currentStep].property === \"width\" ? newValue : obj.geometry.vertices[5][0], 0, 50], [steps[currentStep].property === \"width\" ? newValue : obj.geometry.vertices[6][0], steps[currentStep].property === \"depth\" ? newValue : obj.geometry.vertices[6][1], 50], [0, steps[currentStep].property === \"depth\" ? newValue : obj.geometry.vertices[7][1], 50]]\n              }\n            };\n          }\n          if (obj.id.startsWith(\"wall-\")) {\n            const wallIndex = parseInt(obj.id.split(\"-\")[1]);\n            let updatedWall = {\n              ...obj\n            };\n            switch (wallIndex) {\n              case 1:\n                // 前墙\n                updatedWall.bounding_box.max[0] = steps[currentStep].property === \"width\" ? newValue : obj.bounding_box.max[0];\n                updatedWall.geometry.vertices = updatedWall.geometry.vertices.map(vertex => [vertex[0], vertex[1], vertex[2]]);\n                break;\n              case 2:\n                // 右墙\n                updatedWall.bounding_box.min[0] = steps[currentStep].property === \"width\" ? newValue - 150 : obj.bounding_box.min[0];\n                updatedWall.bounding_box.max[0] = steps[currentStep].property === \"width\" ? newValue : obj.bounding_box.max[0];\n                updatedWall.geometry.vertices = updatedWall.geometry.vertices.map(vertex => [steps[currentStep].property === \"width\" ? newValue - 150 : vertex[0], vertex[1], vertex[2]]);\n                break;\n              case 3:\n                // 后墙\n                updatedWall.bounding_box.max[1] = steps[currentStep].property === \"depth\" ? newValue : obj.bounding_box.max[1];\n                updatedWall.geometry.vertices = updatedWall.geometry.vertices.map(vertex => [vertex[0], steps[currentStep].property === \"depth\" ? newValue - 150 : vertex[1], vertex[2]]);\n                break;\n              case 4:\n                // 左墙\n                updatedWall.bounding_box.max[1] = steps[currentStep].property === \"depth\" ? newValue : obj.bounding_box.max[1];\n                updatedWall.geometry.vertices = updatedWall.geometry.vertices.map(vertex => [vertex[0], steps[currentStep].property === \"depth\" ? newValue - 150 : vertex[1], vertex[2]]);\n                break;\n              default:\n                break;\n            }\n            return updatedWall;\n          }\n          return obj;\n        });\n        updateBuildingData(updatedData);\n\n        // 添加用户选择和 LLM 响应到聊天历史\n        setChatHistory(prev => [...prev, {\n          type: 'user',\n          content: `选择了 ${newValue}`\n        }, {\n          type: 'assistant',\n          content: steps[currentStep].response(newValue)\n        }]);\n\n        // 自动进入下一步\n        if (currentStep < steps.length - 1) {\n          setTimeout(() => {\n            setCurrentStep(prev => prev + 1);\n            setCurrentValue(steps[currentStep + 1].min);\n          }, 1000);\n        }\n      }\n      setIsProcessing(false);\n    }, 500);\n  };\n  const startDesignProcess = () => {\n    setCurrentStep(0);\n    setCurrentValue(steps[0].min);\n    setChatHistory([]);\n  };\n  useEffect(() => {\n    startDesignProcess();\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-full bg-white rounded-lg shadow-lg p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-y-auto mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4 mb-4\",\n        children: chatHistory.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `p-3 rounded-lg ${message.type === 'user' ? 'bg-blue-100 ml-auto max-w-[80%]' : 'bg-gray-100 mr-auto max-w-[80%]'}`,\n          children: message.content\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: steps.map((step, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `p-4 rounded-lg ${index === currentStep ? 'bg-blue-50' : 'bg-gray-50'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-700 mb-2\",\n            children: step.prompt\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this), index === currentStep && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: step.options ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-3 gap-2\",\n              children: step.options.map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleValueChange({\n                  target: {\n                    value: option.value\n                  }\n                }),\n                className: \"p-2 border rounded hover:bg-blue-50\",\n                children: option.label\n              }, option.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: step.min,\n                max: step.max,\n                step: step.step,\n                value: currentValue,\n                onChange: handleValueChange,\n                className: \"w-full\",\n                disabled: isProcessing\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between text-sm text-gray-600\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: step.min\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: currentValue\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: step.max\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatInterface, \"/lXPU+8phhWGMu9C8LE+qgGy8XA=\", false, function () {\n  return [useStore];\n});\n_c = ChatInterface;\nexport default ChatInterface;\nvar _c;\n$RefreshReg$(_c, \"ChatInterface\");","map":{"version":3,"names":["React","useState","useEffect","useStore","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatInterface","_s","buildingData","updateBuildingData","currentStep","setCurrentStep","currentValue","setCurrentValue","chatHistory","setChatHistory","isProcessing","setIsProcessing","steps","prompt","min","max","step","property","response","value","options","label","handleValueChange","event","newValue","parseInt","target","setTimeout","updatedData","building","objects","map","obj","id","bounding_box","geometry","vertices","startsWith","wallIndex","split","updatedWall","vertex","prev","type","content","length","startDesignProcess","className","children","message","index","fileName","_jsxFileName","lineNumber","columnNumber","option","onClick","onChange","disabled","_c","$RefreshReg$"],"sources":["C:/Users/jiang/Documents/GitHub/DesignInAction-WebsiteTest-5/src/components/ChatInterface.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useStore } from '../store';\r\n\r\nconst ChatInterface = () => {\r\n  const { buildingData, updateBuildingData } = useStore();\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [currentValue, setCurrentValue] = useState(1);\r\n  const [chatHistory, setChatHistory] = useState([]);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n\r\n  const steps = [\r\n    {\r\n      prompt: \"让我们开始设计您的建筑。首先，您希望这座建筑有多少层？\",\r\n      min: 1,\r\n      max: 10,\r\n      step: 1,\r\n      property: \"floors\",\r\n      response: (value) => `好的，您选择了 ${value} 层。这是一个不错的选择。接下来，让我们确定建筑的宽度。`\r\n    },\r\n    {\r\n      prompt: \"建筑的宽度会影响内部空间的布局。您希望建筑的宽度是多少？\",\r\n      min: 8000,\r\n      max: 20000,\r\n      step: 100,\r\n      property: \"width\",\r\n      response: (value) => `选择了 ${value}mm 的宽度。现在让我们确定建筑的深度。`\r\n    },\r\n    {\r\n      prompt: \"建筑的深度会影响采光和通风。您觉得多深的建筑比较合适？\",\r\n      min: 6000,\r\n      max: 15000,\r\n      step: 100,\r\n      property: \"depth\",\r\n      response: (value) => `选择了 ${value}mm 的深度。让我们继续设计屋顶的样式。`\r\n    },\r\n    {\r\n      prompt: \"您希望屋顶采用什么样式？\",\r\n      options: [\r\n        { value: \"flat\", label: \"平屋顶\" },\r\n        { value: \"gable\", label: \"双坡屋顶\" },\r\n        { value: \"hip\", label: \"四坡屋顶\" }\r\n      ],\r\n      property: \"roof_style\",\r\n      response: (value) => `选择了 ${value} 屋顶。接下来，让我们设计窗户的布局。`\r\n    }\r\n  ];\r\n\r\n  const handleValueChange = (event) => {\r\n    const newValue = parseInt(event.target.value);\r\n    setCurrentValue(newValue);\r\n    setIsProcessing(true);\r\n\r\n    // 模拟 LLM 处理时间\r\n    setTimeout(() => {\r\n      if (buildingData) {\r\n        const updatedData = {\r\n          ...buildingData,\r\n          building: {\r\n            ...buildingData.building,\r\n            [steps[currentStep].property]: newValue\r\n          }\r\n        };\r\n\r\n        // 更新对象尺寸\r\n        updatedData.objects = buildingData.objects.map(obj => {\r\n          if (obj.id === \"floor-001\") {\r\n            return {\r\n              ...obj,\r\n              bounding_box: {\r\n                min: [0, 0, 0],\r\n                max: [\r\n                  steps[currentStep].property === \"width\" ? newValue : obj.bounding_box.max[0],\r\n                  steps[currentStep].property === \"depth\" ? newValue : obj.bounding_box.max[1],\r\n                  obj.bounding_box.max[2]\r\n                ]\r\n              },\r\n              geometry: {\r\n                ...obj.geometry,\r\n                vertices: [\r\n                  [0, 0, 0],\r\n                  [steps[currentStep].property === \"width\" ? newValue : obj.geometry.vertices[1][0], 0, 0],\r\n                  [steps[currentStep].property === \"width\" ? newValue : obj.geometry.vertices[2][0], steps[currentStep].property === \"depth\" ? newValue : obj.geometry.vertices[2][1], 0],\r\n                  [0, steps[currentStep].property === \"depth\" ? newValue : obj.geometry.vertices[3][1], 0],\r\n                  [0, 0, 50],\r\n                  [steps[currentStep].property === \"width\" ? newValue : obj.geometry.vertices[5][0], 0, 50],\r\n                  [steps[currentStep].property === \"width\" ? newValue : obj.geometry.vertices[6][0], steps[currentStep].property === \"depth\" ? newValue : obj.geometry.vertices[6][1], 50],\r\n                  [0, steps[currentStep].property === \"depth\" ? newValue : obj.geometry.vertices[7][1], 50]\r\n                ]\r\n              }\r\n            };\r\n          }\r\n          if (obj.id.startsWith(\"wall-\")) {\r\n            const wallIndex = parseInt(obj.id.split(\"-\")[1]);\r\n            let updatedWall = { ...obj };\r\n            \r\n            switch (wallIndex) {\r\n              case 1: // 前墙\r\n                updatedWall.bounding_box.max[0] = steps[currentStep].property === \"width\" ? newValue : obj.bounding_box.max[0];\r\n                updatedWall.geometry.vertices = updatedWall.geometry.vertices.map(vertex => [\r\n                  vertex[0],\r\n                  vertex[1],\r\n                  vertex[2]\r\n                ]);\r\n                break;\r\n              case 2: // 右墙\r\n                updatedWall.bounding_box.min[0] = steps[currentStep].property === \"width\" ? newValue - 150 : obj.bounding_box.min[0];\r\n                updatedWall.bounding_box.max[0] = steps[currentStep].property === \"width\" ? newValue : obj.bounding_box.max[0];\r\n                updatedWall.geometry.vertices = updatedWall.geometry.vertices.map(vertex => [\r\n                  steps[currentStep].property === \"width\" ? newValue - 150 : vertex[0],\r\n                  vertex[1],\r\n                  vertex[2]\r\n                ]);\r\n                break;\r\n              case 3: // 后墙\r\n                updatedWall.bounding_box.max[1] = steps[currentStep].property === \"depth\" ? newValue : obj.bounding_box.max[1];\r\n                updatedWall.geometry.vertices = updatedWall.geometry.vertices.map(vertex => [\r\n                  vertex[0],\r\n                  steps[currentStep].property === \"depth\" ? newValue - 150 : vertex[1],\r\n                  vertex[2]\r\n                ]);\r\n                break;\r\n              case 4: // 左墙\r\n                updatedWall.bounding_box.max[1] = steps[currentStep].property === \"depth\" ? newValue : obj.bounding_box.max[1];\r\n                updatedWall.geometry.vertices = updatedWall.geometry.vertices.map(vertex => [\r\n                  vertex[0],\r\n                  steps[currentStep].property === \"depth\" ? newValue - 150 : vertex[1],\r\n                  vertex[2]\r\n                ]);\r\n                break;\r\n              default:\r\n                break;\r\n            }\r\n            \r\n            return updatedWall;\r\n          }\r\n          return obj;\r\n        });\r\n\r\n        updateBuildingData(updatedData);\r\n        \r\n        // 添加用户选择和 LLM 响应到聊天历史\r\n        setChatHistory(prev => [\r\n          ...prev,\r\n          { type: 'user', content: `选择了 ${newValue}` },\r\n          { type: 'assistant', content: steps[currentStep].response(newValue) }\r\n        ]);\r\n\r\n        // 自动进入下一步\r\n        if (currentStep < steps.length - 1) {\r\n          setTimeout(() => {\r\n            setCurrentStep(prev => prev + 1);\r\n            setCurrentValue(steps[currentStep + 1].min);\r\n          }, 1000);\r\n        }\r\n      }\r\n      setIsProcessing(false);\r\n    }, 500);\r\n  };\r\n\r\n  const startDesignProcess = () => {\r\n    setCurrentStep(0);\r\n    setCurrentValue(steps[0].min);\r\n    setChatHistory([]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    startDesignProcess();\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full bg-white rounded-lg shadow-lg p-4\">\r\n      <div className=\"flex-1 overflow-y-auto mb-4\">\r\n        {/* 聊天历史 */}\r\n        <div className=\"space-y-4 mb-4\">\r\n          {chatHistory.map((message, index) => (\r\n            <div\r\n              key={index}\r\n              className={`p-3 rounded-lg ${\r\n                message.type === 'user'\r\n                  ? 'bg-blue-100 ml-auto max-w-[80%]'\r\n                  : 'bg-gray-100 mr-auto max-w-[80%]'\r\n              }`}\r\n            >\r\n              {message.content}\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* 当前步骤 */}\r\n        <div className=\"space-y-4\">\r\n          {steps.map((step, index) => (\r\n            <div\r\n              key={index}\r\n              className={`p-4 rounded-lg ${\r\n                index === currentStep ? 'bg-blue-50' : 'bg-gray-50'\r\n              }`}\r\n            >\r\n              <p className=\"text-gray-700 mb-2\">{step.prompt}</p>\r\n              {index === currentStep && (\r\n                <div className=\"space-y-2\">\r\n                  {step.options ? (\r\n                    <div className=\"grid grid-cols-3 gap-2\">\r\n                      {step.options.map(option => (\r\n                        <button\r\n                          key={option.value}\r\n                          onClick={() => handleValueChange({ target: { value: option.value } })}\r\n                          className=\"p-2 border rounded hover:bg-blue-50\"\r\n                        >\r\n                          {option.label}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  ) : (\r\n                    <>\r\n                      <input\r\n                        type=\"range\"\r\n                        min={step.min}\r\n                        max={step.max}\r\n                        step={step.step}\r\n                        value={currentValue}\r\n                        onChange={handleValueChange}\r\n                        className=\"w-full\"\r\n                        disabled={isProcessing}\r\n                      />\r\n                      <div className=\"flex justify-between text-sm text-gray-600\">\r\n                        <span>{step.min}</span>\r\n                        <span>{currentValue}</span>\r\n                        <span>{step.max}</span>\r\n                      </div>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatInterface; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}