{"ast":null,"code":"import create from 'zustand';\nconst useStore = create(set => ({\n  // 建筑数据\n  buildingData: {\n    building: {\n      width: 12000,\n      depth: 8000,\n      floor_height: 2500,\n      wall_thickness: 150,\n      floors: 1\n    },\n    objects: []\n  },\n  updateBuildingData: newData => set({\n    buildingData: newData\n  }),\n  // 聊天历史\n  chatHistory: [],\n  addChatMessage: message => set(state => ({\n    chatHistory: [...state.chatHistory, message]\n  })),\n  // 设计步骤\n  currentStep: 1,\n  updateStep: step => set({\n    currentStep: step\n  }),\n  // 选中的对象\n  selectedObject: null,\n  setSelectedObject: object => set({\n    selectedObject: object\n  }),\n  // 更新对象\n  updateObject: (objectId, updates) => set(state => {\n    const newObjects = state.buildingData.objects.map(obj => obj.id === objectId ? {\n      ...obj,\n      ...updates\n    } : obj);\n    return {\n      buildingData: {\n        ...state.buildingData,\n        objects: newObjects\n      }\n    };\n  })\n}));\nexport { useStore };","map":{"version":3,"names":["create","useStore","set","buildingData","building","width","depth","floor_height","wall_thickness","floors","objects","updateBuildingData","newData","chatHistory","addChatMessage","message","state","currentStep","updateStep","step","selectedObject","setSelectedObject","object","updateObject","objectId","updates","newObjects","map","obj","id"],"sources":["C:/Users/jiang/Documents/GitHub/DesignInAction-WebsiteTest-5/src/store/index.js"],"sourcesContent":["import create from 'zustand';\r\n\r\nconst useStore = create((set) => ({\r\n  // 建筑数据\r\n  buildingData: {\r\n    building: {\r\n      width: 12000,\r\n      depth: 8000,\r\n      floor_height: 2500,\r\n      wall_thickness: 150,\r\n      floors: 1\r\n    },\r\n    objects: []\r\n  },\r\n  updateBuildingData: (newData) => set({ buildingData: newData }),\r\n\r\n  // 聊天历史\r\n  chatHistory: [],\r\n  addChatMessage: (message) => \r\n    set((state) => ({ \r\n      chatHistory: [...state.chatHistory, message] \r\n    })),\r\n\r\n  // 设计步骤\r\n  currentStep: 1,\r\n  updateStep: (step) => set({ currentStep: step }),\r\n\r\n  // 选中的对象\r\n  selectedObject: null,\r\n  setSelectedObject: (object) => set({ selectedObject: object }),\r\n\r\n  // 更新对象\r\n  updateObject: (objectId, updates) =>\r\n    set((state) => {\r\n      const newObjects = state.buildingData.objects.map((obj) =>\r\n        obj.id === objectId ? { ...obj, ...updates } : obj\r\n      );\r\n      return {\r\n        buildingData: {\r\n          ...state.buildingData,\r\n          objects: newObjects,\r\n        },\r\n      };\r\n    }),\r\n}));\r\n\r\nexport { useStore }; "],"mappings":"AAAA,OAAOA,MAAM,MAAM,SAAS;AAE5B,MAAMC,QAAQ,GAAGD,MAAM,CAAEE,GAAG,KAAM;EAChC;EACAC,YAAY,EAAE;IACZC,QAAQ,EAAE;MACRC,KAAK,EAAE,KAAK;MACZC,KAAK,EAAE,IAAI;MACXC,YAAY,EAAE,IAAI;MAClBC,cAAc,EAAE,GAAG;MACnBC,MAAM,EAAE;IACV,CAAC;IACDC,OAAO,EAAE;EACX,CAAC;EACDC,kBAAkB,EAAGC,OAAO,IAAKV,GAAG,CAAC;IAAEC,YAAY,EAAES;EAAQ,CAAC,CAAC;EAE/D;EACAC,WAAW,EAAE,EAAE;EACfC,cAAc,EAAGC,OAAO,IACtBb,GAAG,CAAEc,KAAK,KAAM;IACdH,WAAW,EAAE,CAAC,GAAGG,KAAK,CAACH,WAAW,EAAEE,OAAO;EAC7C,CAAC,CAAC,CAAC;EAEL;EACAE,WAAW,EAAE,CAAC;EACdC,UAAU,EAAGC,IAAI,IAAKjB,GAAG,CAAC;IAAEe,WAAW,EAAEE;EAAK,CAAC,CAAC;EAEhD;EACAC,cAAc,EAAE,IAAI;EACpBC,iBAAiB,EAAGC,MAAM,IAAKpB,GAAG,CAAC;IAAEkB,cAAc,EAAEE;EAAO,CAAC,CAAC;EAE9D;EACAC,YAAY,EAAEA,CAACC,QAAQ,EAAEC,OAAO,KAC9BvB,GAAG,CAAEc,KAAK,IAAK;IACb,MAAMU,UAAU,GAAGV,KAAK,CAACb,YAAY,CAACO,OAAO,CAACiB,GAAG,CAAEC,GAAG,IACpDA,GAAG,CAACC,EAAE,KAAKL,QAAQ,GAAG;MAAE,GAAGI,GAAG;MAAE,GAAGH;IAAQ,CAAC,GAAGG,GACjD,CAAC;IACD,OAAO;MACLzB,YAAY,EAAE;QACZ,GAAGa,KAAK,CAACb,YAAY;QACrBO,OAAO,EAAEgB;MACX;IACF,CAAC;EACH,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,SAASzB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}